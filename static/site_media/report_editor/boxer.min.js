$.widget("ui.boxer",$.extend({},$.ui.mouse,{_init:function(){this.element.addClass("ui-boxer");this.dragged=false;this._mouseInit();this.helper=$(document.createElement("div")).css({border:"1px dotted black"}).addClass("ui-boxer-helper")},destroy:function(){this.element.removeClass("ui-boxer ui-boxer-disabled").removeData("boxer").unbind(".boxer");this._mouseDestroy();return this},_mouseStart:function(a){this.opos=[a.pageX,a.pageY];if(!this.options.disabled){var b=this.options;this._trigger("start", a);$(b.appendTo).append(this.helper);this.helper.css({"z-index":100,position:"absolute",left:a.clientX,top:a.clientY,width:0,height:0})}},_mouseDrag:function(a){this.dragged=true;if(!this.options.disabled){var b=this.opos[0],c=this.opos[1],d=a.pageX,e=a.pageY;if(b>d){var f=d;d=b;b=f}if(c>e){f=e;e=c;c=f}this.helper.css({left:b,top:c,width:d-b,height:e-c});this._trigger("drag",a);return false}},_mouseStop:function(a){this.dragged=false;var b=this.helper.clone().removeClass("ui-boxer-helper").appendTo(this.element); this._trigger("stop",a,{box:b});this.helper.remove();return false}}));$.extend($.ui.boxer,{defaults:$.extend({},$.ui.mouse.defaults,{appendTo:"body",distance:0})});
